{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst formData = {};\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[name=email]'),\n  textarea: document.querySelector('textarea[name=message]'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormInput);\n\npopulateForm();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  if (!validateForm()) {\n    return alert('All form fields must be filled in');\n  }\n\n  if (isFormDataNotEmpty()) {\n    console.log(formData);\n  }\n\n  resetForm();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction onFormInput(event) {\n  const { name, value } = event.target;\n  formData[name] = value.trim();\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateForm() {\n  const savedFormData = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  if (savedFormData) {\n    const { email, message } = savedFormData;\n    refs.input.value = email || '';\n    refs.textarea.value = message || '';\n    formData.email = email || '';\n    formData.message = message || '';\n  }\n}\n\nfunction validateForm() {\n  return Object.values(formData).every(value => value.trim() !== '');\n}\n\nfunction resetForm() {\n  refs.form.reset();\n  formData.email = '';\n  formData.message = '';\n}\n\nfunction isFormDataNotEmpty() {\n  return Object.keys(formData).length > 0;\n}\n"],"names":["LOCALSTORAGE_KEY","formData","refs","onFormSubmit","onFormInput","populateForm","event","validateForm","isFormDataNotEmpty","resetForm","name","value","savedFormData","email","message"],"mappings":"oCAEA,MAAMA,EAAmB,sBACnBC,EAAW,CAAA,EACXC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,mBAAmB,EACjD,SAAU,SAAS,cAAc,wBAAwB,CAC3D,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EACjDD,EAAK,KAAK,iBAAiB,QAASE,CAAW,EAE/CC,IAEA,SAASF,EAAaG,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,CAACC,EAAY,EACf,OAAO,MAAM,mCAAmC,EAG9CC,EAAkB,GACpB,QAAQ,IAAIP,CAAQ,EAGtBQ,IACA,aAAa,WAAWT,CAAgB,CAC1C,CAEA,SAASI,EAAYE,EAAO,CAC1B,KAAM,CAAE,KAAAI,EAAM,MAAAC,GAAUL,EAAM,OAC9BL,EAASS,GAAQC,EAAM,KAAI,EAC3B,aAAa,QAAQX,EAAkB,KAAK,UAAUC,CAAQ,CAAC,CACjE,CAEA,SAASI,GAAe,CACtB,MAAMO,EAAgB,KAAK,MAAM,aAAa,QAAQZ,CAAgB,CAAC,EAEvE,GAAIY,EAAe,CACjB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGF,EAC3BV,EAAK,MAAM,MAAQW,GAAS,GAC5BX,EAAK,SAAS,MAAQY,GAAW,GACjCb,EAAS,MAAQY,GAAS,GAC1BZ,EAAS,QAAUa,GAAW,EAC/B,CACH,CAEA,SAASP,GAAe,CACtB,OAAO,OAAO,OAAON,CAAQ,EAAE,MAAMU,GAASA,EAAM,SAAW,EAAE,CACnE,CAEA,SAASF,GAAY,CACnBP,EAAK,KAAK,QACVD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAEA,SAASO,GAAqB,CAC5B,OAAO,OAAO,KAAKP,CAAQ,EAAE,OAAS,CACxC"}